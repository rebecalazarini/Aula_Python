# Conversão de Arquivo
# Tente abrir e ler um arquivo, tratando FileNotFoundError. Se o arquivo não existir, crie-o e escreva uma mensagem de erro.

import os

nome_do_arquivo = "rebeca-cabeca-de-vento.txt"

try:
    #('r' para modo leitura)
    with open(nome_do_arquivo, 'r') as arquivo:
        conteudo = arquivo.read()
        print(f"Conteúdo do arquivo '{nome_do_arquivo}':\n{conteudo}")
except FileNotFoundError:
    # Se o arquivo não existir, esta exceção é capturada
    print(f"Erro: O arquivo '{nome_do_arquivo}' não foi encontrado.")
    print(f"Criando o arquivo '{nome_do_arquivo}' e escrevendo uma mensagem de erro.")
    try:
        #(modo 'w' para modo escrita)
        with open(nome_do_arquivo, 'w') as arquivo_novo:
            arquivo_novo.write("Este arquivo foi criado automaticamente porque o original não existia.\n")
            arquivo_novo.write("Nenhuma leitura pôde ser realizada na primeira tentativa.")
        print(f"Arquivo '{nome_do_arquivo}' criado com sucesso e mensagem de erro registrada.")
    except ValueError as e:
        # Captura outros possíveis erros de E/S durante a criação/escrita
        print(f"Ocorreu um erro de E/S ao criar o arquivo: {e}")

finally:
    print("Execução do bloco try-finally foi concluída com sucesso!")
